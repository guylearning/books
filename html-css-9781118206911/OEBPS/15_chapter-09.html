<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"
lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<title>HTML &amp; CSS: Design and Build Websites</title>
<link rel="stylesheet" type="text/css" href="override_v1.css"/>
<link rel="stylesheet" type="text/css" href="9781118206911.css"/>
</head>
<body>
<div id="book-content">
<div id="sbo-rt-content"><h1 class="chapnum"><a id="ch9"></a>9</h1>
<h1 class="chaptitle"><a id="page_200"></a>FLASH, VIDEO &amp; AUDIO</h1>
<ul style="list-style-image: url(images/rtrif.jpg);">
<li>How to add Flash movies into your site</li>
<li>How to add video and audio to your site</li>
<li>HTML5 <span class="inlinecode">&lt;video&gt;</span> and <span class="inlinecode">&lt;audio&gt;</span> elements</li>
</ul>
<p class="text"><a id="page_201"></a>Flash is a very popular technology used to add animations, video, and audio to websites. This chapter begins by looking at how to use it in your web pages.</p>
<p class="text">We then focus on how to add video and audio to your site, using either the new HTML5 &lt;video&gt; and &lt;audio&gt; elements or a hosted service (such as YouTube or SoundCloud). In this chapter you will learn:</p>
<ul style="list-style-type: disc;">
<li>How to use Flash in your web pages</li>
<li>How to use HTML5 <span class="inlinecode">&lt;video&gt;</span> and <span class="inlinecode">&lt;audio&gt;</span> elements</li>
<li>When to host your own video and audio and when to use a service such as YouTube</li>
</ul>
<p class="center"><a id="page_202"></a><img src="images/ch009-Uf001.jpg" alt="image" class="imgepub" width="566" height="700"/></p>
<h2 class="subtitle"><a id="ch009-sec001"></a>HOW FLASH WORKS</h2>
<p class="text"><a id="page_203"></a>Since the late 1990s, Flash has been a very popular tool for creating animations, and later for playing audio and video in websites.</p>
<p class="text">Whether you are creating an animation or a media player in Flash, the files you put on your website are referred to as <b>Flash movies</b>.</p>
<p class="text">If you want to create your own Flash movie, you need to purchase the Flash authoring environment from Adobe.</p>
<p class="text">There are, however, several companies that offer Flash animations and slideshows, as well as video and audio players that you can use without purchasing this tool.</p>
<p class="text">When you create a Flash file in the Flash authoring environment, it is saved with the <span class="inlinecode">.fla</span> file extension. In order to use this file on a web page it has to be saved in a different format known as SWF. (It has the <span class="inlinecode">.swf</span> file extension.)</p>
<p class="text">When you export the movie into SWF format, Flash creates code that you can use to embed the Flash movie in your page. Traditionally, this code used the HTML <span class="inlinecode">&lt;object&gt;</span> and <span class="inlinecode">&lt;embed&gt;</span> tags. However, now it is more common to use JavaScript.</p>
<p class="text">To view Flash, browsers need to use a plugin (an extra piece of software that runs in the browser) called the Flash Player. Statistics commonly indicate that 98% of browsers on desktop computers have the Flash plugin installed. (The percentage of mobiles and tablets with it is much less.)</p>
<p class="text">There is not space in this book to teach you how to create Flash movies (there are many books devoted to that one topic), but this chapter will show you how to add Flash movies to your site.</p>
<p class="text"><img src="images/ch009-Uf002.jpg" alt="image" class="imgepub" width="320" height="185"/></p>
<p class="text">The Flash authoring environment is used to create Flash Movies.</p>
<p class="text"><img src="images/ch009-Uf003.jpg" alt="image" class="imgepub" width="320" height="185"/></p>
<p class="text">The <span class="inlinecode">.fla</span> file is exported to <span class="inlinecode">.swf</span> format to use in a web page.</p>
<p class="text"><img src="images/ch009-Uf004.jpg" alt="image" class="imgepub" width="348" height="123"/></p>
<p class="text">The <span class="inlinecode">.swf</span> file is included in your web page using JavaScript.</p>
<h2 class="subtitle"><a id="ch009-sec002"></a>USE OF FLASH</h2>
<p class="text"><a id="page_204"></a>Since 2005, a number of factors have meant that fewer websites are written in Flash or even use elements of Flash in their pages.</p>
<p class="text">When Flash was first released, it was developed to create animations. The technology quickly evolved, however, and people started to use it to build media players and even entire websites.</p>
<p class="text">Although Flash is still very popular, in recent years people have been more selective about when they use it (and now rarely consider building an entire website in Flash).</p>
<p class="text">Despite this, Flash does have a future on the web because there are some things it does very well, such as creating animations.</p>
<p class="text">There are several reasons why fewer websites are using Flash these days, including:</p>
<p class="text">In 2005-6, a set of JavaScript libraries were launched (including Prototype, script.aculo.us, and JQuery) which made it easier for people to create animated effects using JavaScript.</p>
<p class="text">When Apple launched the iPhone in 2007 and later the the iPad in 2010, they took the decision not to support Flash.</p>
<p class="text">There have been laws introduced to ensure that websites are usable by those with visual or physical impairments — and Flash has been criticized because Flash content does not always meet accessibility requirements.</p>
<p class="text">In 2008, browsers started to support HTML5 <span class="inlinecode">&lt;video&gt;</span> and <span class="inlinecode">&lt;audio&gt;</span> tags. At the time of writing, Flash is still a popular way of playing video and audio on the web but more and more people are switching to HTML5.</p>
<p class="text">(You will see how to use these elements later in the chapter.)</p>
<h2 class="subtitle"><a id="ch009-sec003"></a>TIMELINE: FLASH, VIDEO &amp; AUDIO</h2>
<p class="text"><a id="page_205"></a>Web technologies change quickly. Here you can see some of the changes in how animation, video, and audio are created on the web.</p>
<p class="center"><a id="page_206"></a><img src="images/ch009-Uf005.jpg" alt="image" class="imgepub" width="700" height="303"/></p>
<p class="center"><img src="images/ch009-Uf006.jpg" alt="image" class="imgepub" width="700" height="569"/></p>
<p class="text">On this page you can see the first major players to provide web animation, audio, and video.</p>
<p class="text">On the facing page, you can see some of the technologies and events replacing them.</p>
<h2 class="subtitle"><a id="ch009-sec004"></a>ADDING A FLASH MOVIE TO YOUR WEB PAGE</h2>
<p class="text"><a id="page_207"></a>The most popular way of adding Flash into a web page is using JavaScript. There are several scripts that allow you to do this without an in-depth understanding of the JavaScript language.</p>
<p class="text">The script we will be looking at here is called SWFObject. You can obtain a copy of it for free from Google, and you can see how we use it on the next page.</p>
<p class="text">One advantage to using this technique is that it allows browsers to show alternative content for users whose browsers are not capable of showing Flash.</p>
<p class="text">This technique uses a <span class="inlinecode">&lt;div&gt;</span> element to create a space where the Flash movie should sit. The <span class="inlinecode">&lt;div&gt;</span> element has an id attribute whose value is used by the SWFObject script. In this example, the value of the <span class="inlinecode">id</span> attribute is <span class="inlinecode">bird</span>.</p>
<p class="text">Inside the <span class="inlinecode">&lt;div&gt;</span> element you can place the alternative content for users who are not able to play Flash.</p>
<p class="center"><img src="images/ch009-Uf007.jpg" alt="image" class="imgepub" width="467" height="380"/></p>
<p class="text">The SWFObject script will check to see if the user's browser can play the Flash movie. If it can, the script will replace the content of the <span class="inlinecode">&lt;div&gt;</span> with the <span class="inlinecode">.swf</span> file.</p>
<p class="text">For users who cannot see the Flash movie, you could show a still from the movie instead. You might also like to consider using a text description of the Flash file.</p>
<p class="text">If you use a text description as alternative content, then you can achieve two further benefits:</p>
<ol style="list-style-type: decimal">
<li>The text can be accessed by those with visual and/or physical impairments who are not able to interact with the Flash file.</li>
<li>The text can be indexed by search engines (which are not as effective at indexing SWF files), increasing the chance that your content will be found.</li>
</ol>
<p class="center"><a id="page_208"></a><img src="images/ch009-Uf008.jpg" alt="image" class="imgepub" width="467" height="380"/></p>
<p class="text">In this example, the SWFObject script is hosted on Google's servers. We <b>include</b> the script in this web page using the first of the two <span class="inlinecode">&lt;script&gt;</span> elements.</p>
<p class="text">The type attribute is used on the <span class="inlinecode">&lt;script&gt;</span> element to indicate that the script inside is written in JavaScript. The <span class="inlinecode">src</span> attribute tells the browser where to find the script.</p>
<p class="text">The second <span class="inlinecode">&lt;script&gt;</span> element is used to tell the browser about the Flash movie, as well as which element it should replace. This element is actually telling the SWFObject script <b>five</b> pieces of information, which are in the brackets:</p>
<ol style="list-style-type: decimal">
<li>The <b>location</b> of the <span class="inlinecode">.swf</span> file: <span class="inlinecode">flash/bird.swf</span></li>
<li>The element that the Flash movie should <b>replace</b>, specified by the <span class="inlinecode">value</span> of the <span class="inlinecode">id</span> attribute on the <span class="inlinecode">&lt;div&gt;</span> element:
<p class="text"><span class="inlinecode">bird</span></p>
</li>
<li>The <b>width</b> of the Flash movie:
<p class="text"><span class="inlinecode">400 px</span></p>
</li>
<li>The <b>height</b> of the Flash movie:
<p class="text"><span class="inlinecode">300 px</span></p></li>
<li>The minimum <b>version</b> of the Flash player needed to view the movie:
<p class="text"><span class="inlinecode">Flash Player 8</span></p>
</li>
</ol>
<h2 class="subtitle"><a id="ch009-sec005"></a>UNDERSTANDING VIDEO FORMATS AND PLAYERS</h2>
<p class="text"><a id="page_209"></a>To add video to your site, there are two key issues to understand: file formats and video players/plugins.</p>
<h4 class="subtitle"><a id="ch009-sec006"></a>FORMATS</h4>
<p class="text">Movies are available in many formats (BluRay, DVD, VHS, to name a few). Online, there are even <i>more</i> video formats (including AVI, Flash Video, H264, MPEG, Ogg Theora, QuickTime, WebM, and Windows Media).</p>
<p class="text">Just as your DVD player won't play a VHS cassette, browsers differ in what video formats they do and don't support.</p>
<p class="text">In order for users to view your video online, you may need to convert it to another format.</p>
<p class="text">The process of converting a video into another format is sometimes referred to as “encoding” the video.</p>
<p class="text">There are several apps available on the web that enable you to encode videos (such as <a href="http://www.mirovideoconverter.com"><span class="inlinecode">www.mirovideoconverter.com</span></a>).</p>
<h4 class="subtitle"><a id="ch009-sec007"></a>PLAYERS/PLUGINS</h4>
<p class="text">Browsers were initially designed to show text and images only. For this reason, browsers built prior to 2010 generally required another program called a player or plugin to to be installed in order to play video content.</p>
<p class="text">These players and plugins only supported certain video formats.</p>
<p class="text">Recently browsers have evolved to support the HTML5 <span class="inlinecode">&lt;video&gt;</span> tag (which renders players and plugins obsolete).</p>
<p class="text">Unfortunately, however, you cannot rely on every visitor to your website having a recent browser that supports this new HTML5 element and the browsers that do recognize the <span class="inlinecode">&lt;video&gt;</span> element require the video to be encoded in different formats.</p>
<h4 class="subtitle"><a id="ch009-sec008"></a>APPROACH</h4>
<p class="text">The easiest way to add video to your site is to use a hosted service such as YouTube or Vimeo.</p>
<p class="text">However, there are some cases where using these services is not appropriate (as you will see on the next page) and you will want to host the video on your own site.</p>
<p class="text">At the time of writing, to ensure most people can play your video content, it is considered best practice to use the HTML5 <span class="inlinecode">&lt;video&gt;</span> element for browsers that support it, and also Flash video for those that do not. This means you would need to upload any videos you want to show in at least two different formats: WebM and MP4.</p>
<h2 class="subtitle"><a id="ch009-sec009"></a>USING HOSTED VIDEO SERVICES</h2>
<p class="text"><a id="page_210"></a>The easiest way to add a video to your site is to upload the video to a site like YouTube or Vimeo and use the features provided on their site to embed the video in your page.</p>
<h4 class="subtitle"><a id="ch009-sec010"></a>ADVANTAGES</h4>
<p class="text">Hosted video sites (such as YouTube) provide players that work with the majority of web browsers.</p>
<p class="text">You do not need to worry about encoding your video since these sites allow you to upload your content in a range of formats. Once uploaded, they automatically convert your video into the various formats required by different browsers.</p>
<p class="text">Web hosting companies often charge extra if you use a lot of bandwidth, and video files can be quite large. Therefore, it can cost you extra to host the videos on your own site. If your video is hosted on a site like YouTube or Vimeo, however, you do not need to pay for the bandwidth.</p>
<h4 class="subtitle"><a id="ch009-sec011"></a>DISADVANTAGES</h4>
<p class="text">Your video will be available on the site of the hosted service, so if you want the content to be exclusively available on your site (and not visible on other sites), you need to host the video on your own server and add your own player into the page.</p>
<p class="text">Some services will limit what your video is allowed to include. For example, most prohibit the use of advertising within the video you upload (which prevents you from monetizing that content).</p>
<p class="text">Some hosted services will play their own adverts before your video will begin, or even overlay them over the screen as your video is playing. The quality of video on some hosted services can also be limited.</p>
<h4 class="subtitle"><a id="ch009-sec012"></a>THE ALTERNATIVE</h4>
<p class="text">If you want to host video on your own site - rather than a hosted service - a lot more work is involved in setting up your site to play the video.</p>
<p class="text">We will be looking at two different ways that you can host your own videos: using both Flash Video and the HTML5 <span class="inlinecode">&lt;video&gt;</span> element.</p>
<p class="text">In order to ensure that the maximum number of visitors to your site can see the video, you will need to use a combination of both of these techniques.</p>
<h2 class="subtitle"><a id="ch009-sec013"></a>PREPARING A FLASH VIDEO FOR YOUR SITE</h2>
<p class="text"><a id="page_211"></a>There are three steps you need to follow to add a Flash Video to your web page:</p>
<p class="center"><img src="images/image1.jpg" alt="image" class="imgepub" width="22" height="89"/></p>
<h4 class="subtitle"><a id="ch009-sec014"></a>CONVERT YOUR VIDEO INTO FLV FORMAT</h4>
<p class="text">To play a Flash Video, you need to convert your video into FLV format. Since Flash 6, the Flash authoring environment has come with a Flash Video Encoder to convert videos into FLV format.</p>
<p class="text">Some Flash video players also support a format called H264 (and some video editing programs export video in this format).</p>
<p class="text">Googling “FLV or H264 converters” will allow you to find alternative encoding software.</p>
<p class="center"><img src="images/image2-01.jpg" alt="image" class="imgepub" width="60" height="89"/></p>
<h4 class="subtitle"><a id="ch009-sec015"></a>FIND AN FLV PLAYER TO PLAY THE VIDEO</h4>
<p class="text">You'll need a <b>player</b> written in Flash to play the FLV file. Its purpose is to hold the FLV movie and add controls such as play/pause. Here are two sites that offer FLV players:</p>
<p class="text"><a href="http://www.osflv.com"><span class="inlinecode">www.osflv.com</span></a></p>
<p class="text"><a href="http://www.longtailvideo.com"><span class="inlinecode">www.longtailvideo.com</span></a></p>
<p class="text">You do not need the Flash authoring environment to use either of these on your website.</p>
<p class="center"><img src="images/image3-01.jpg" alt="image" class="imgepub" width="60" height="90"/></p>
<h4 class="subtitle"><a id="ch009-sec016"></a>INCLUDE THE PLAYER &amp; VIDEO IN YOUR PAGE</h4>
<p class="text">You can include the player in your page using a JavaScript technique such as SWFObject, which was mentioned earlier in this chapter.</p>
<p class="text">You will also need to tell the player where it can find the video file that you want it to play. (Some players have advanced features such as the ability to create playlists of multiple videos, or add a still picture before the video plays.)</p>
<p class="text">I have provided a sample FLV file that you can use with the download code on the website (It is in a separate folder because the video files are large.)</p>
<p class="text">In the following example, we will use the OS FLV player, which is a free, open-source Flash Video player. This is included in the download code. It only supports the FLV format (not H264).</p>
<p class="text">In the following example, we will also be using the SWFObject JavaScript technique mentioned on pages 207-208.</p>
<h2 class="subtitle"><a id="ch009-sec017"></a>ADDING A FLASH VIDEO TO YOUR PAGES</h2>
<p class="center"><a id="page_212"></a><img src="images/ch009-Uf009.jpg" alt="image" class="imgepub" width="467" height="440"/></p>
<p class="center"><img src="images/ch009-Uf010.jpg" alt="image" class="imgepub" width="467" height="280"/></p>
<p class="text">This example uses the OS FLV player to display a video called <span class="inlinecode">puppy.flv</span>, which has already been convered into FLV format.</p>
<p class="text">You have already seen how to use SWFObject to embed a basic animation in a page, but sometimes Flash movies need information in order for them to work. In this example, the video player needs to know the path to the video it has to play, so SWFObject uses JavaScript variables to pass this information to the Flash movie. These are provided in the two lines of code that start with <span class="inlinecode">var</span>.</p>
<p class="text">This particular player is not expecting any information in the <span class="inlinecode">flashvars</span> variable, so that is left empty.</p>
<p class="text">The path to the movie is supplied in the variable called <span class="inlinecode">params</span>.</p>
<div class="code">
<pre class="codesnippet">var params = {movie:
“../videos/puppy.f lv”};</pre>
</div>
<p class="text">The line after the variables is the one that tells the script to replace the HTML element with the video player. It is very similar to the one you saw in the earlier example that introduced SWFObject.</p>
<p class="text">Different video players usually require information such as the path to the video in slightly different formats, but they usually come with examples and documentation to help you understand how to use them.</p>
<h2 class="subtitle"><a id="ch009-sec018"></a>HTML5: PREPARING VIDEO FOR YOUR PAGES</h2>
<p class="text"><a id="page_213"></a>Despite the HTML5 <span class="inlinecode">&lt;video&gt;</span> element being a very recent addition, it is enjoying widespread use. Here are some of the key issues to be aware of:</p>
<h4 class="subtitle"><a id="ch009-sec019"></a>SUPPORT</h4>
<p class="text">The new HTML5 <span class="inlinecode">&lt;video&gt;</span> element is only supported by recent browsers, so you cannot just use this one technique if you want everyone to be able to see your video (you need to combine this HTML5 with Flash Video).</p>
<h4 class="subtitle"><a id="ch009-sec020"></a>DIGITAL RIGHTS</h4>
<p class="text">At the time of writing, the <span class="inlinecode">&lt;video&gt;</span> element does not support any type of Digital Rights Management (DRM — sometimes referred to as copy protection). But a dedicated pirate will usually find a way around DRM.</p>
<h4 class="subtitle"><a id="ch009-sec021"></a>FORMATS</h4>
<p class="text">Not all browsers support the same video formats. Therefore, you need to supply your video in more than one format.</p>
<p class="text">To reach as many browsers as possible, you should provide the video in the following formats:</p>
<p class="text"><b>H264:</b> IE and Safari</p>
<p class="text"><b>WebM:</b> Android, Chrome, Firefox, Opera</p>
<p class="text">Chrome, Firefox, and Opera have indicated that they will support a format called WebM. (Some Flash players also support H264, and WebM - which will save on the number of conversions).</p>
<h4 class="subtitle"><a id="ch009-sec022"></a>CONTROLS</h4>
<p class="text">The browser supplies its own controls for the player, and these can vary from browser to browser. You can control the appearance of these controls using JavaScript (but that is beyond the scope of this book).</p>
<h4 class="subtitle"><a id="ch009-sec023"></a>IN THE BROWSER</h4>
<p class="text">One of the problems with players such as the Flash Player is that they can behave inconsistently when elements such as menus drop over them, or the window is scaled up or down. The HTML5 option solves these issues.</p>
<p class="text">On page 222 you will see how to combine this HTML5 video technique with Flash Video to achieve wider reach.</p>
<p class="text">I have provided a sample video in H264 and WebM format for you to try with the code downloads.</p>
<p class="text">If you look at this example in Firefox and Opera you will see different controls when you hover over the video.</p>
<h2 class="subtitle"><a id="ch009-sec024"></a>HTML5: ADDING VIDEO TO YOUR PAGES</h2>
<p class="center"><a id="page_214"></a><img src="images/ch009-Uf011.jpg" alt="image" class="imgepub" width="467" height="380"/></p>
<p class="text">In HTML5 you do not need to supply values for all attributes, such as the controls, autoplay, and loop attributes used with the <span class="inlinecode">&lt;video&gt;</span> element. These attributes are like on/off switches. If the attribute is present, it turns that option on. If the attribute is omitted, the option is turned off.</p>
<p class="text">If the browser does not support the <span class="inlinecode">&lt;video&gt;</span> element or the format of video used, it will display whatever is between the opening <span class="inlinecode">&lt;video&gt;</span> and closing <span class="inlinecode">&lt;/video&gt;</span> tags.</p>
<h4 class="subtitle"><a id="ch009-sec025"></a><span class="inlinecode">preload</span></h4>
<p class="text">This attribute tells the browser what to do when the page loads. It can have one of three values:</p>
<h5 class="subtitle"><a id="ch009-sec026"></a><span class="inlinecode">none</span></h5>
<p class="text">The browser should not load the video until the user presses play.</p>
<h5 class="subtitle"><a id="ch009-sec027"></a><span class="inlinecode">auto</span></h5>
<p class="text">The browser should download the video when the page loads.</p>
<h5 class="subtitle"><a id="ch009-sec028"></a><span class="inlinecode">metadata</span></h5>
<p class="text">The browser should just collect information such as the size, first frame, track list, and duration.</p>
<h3 class="subtitle"><a id="ch009-sec029"></a><span class="inlinecodeuserinput">&lt;video&gt;</span></h3>
<p class="text">The <span class="inlinecode">&lt;video&gt;</span> element has a number of attributes which allow you to control video playback:</p>
<h4 class="subtitle"><a id="ch009-sec030"></a><span class="inlinecode">src</span></h4>
<p class="text">This attribute specifies the path to the video. (The example video is in H264 format so it will only work in IE and Safari.)</p>
<h4 class="subtitle"><a id="ch009-sec031"></a><span class="inlinecode">poster</span></h4>
<p class="text">This attribute allows you to specify an image to show while the video is downloading or until the user tells the video to play.</p>
<h4 class="subtitle"><a id="ch009-sec032"></a><span class="inlinecode">width, height</span></h4>
<p class="text">These attributes specify the size of the player in pixels.</p>
<h4 class="subtitle"><a id="ch009-sec033"></a><span class="inlinecode">controls</span></h4>
<p class="text">When used, this attribute indicates that the browser should supply its own controls for playback.</p>
<h4 class="subtitle"><a id="ch009-sec034"></a><span class="inlinecode">autoplay</span></h4>
<p class="text">When used, this attribute specifies that the file should play automatically.</p>
<h4 class="subtitle"><a id="ch009-sec035"></a><span class="inlinecode">loop</span></h4>
<p class="text">When used, this attribute indicates that the video should start playing again once it has ended.</p>
<h2 class="subtitle"><a id="ch009-sec036"></a>HTML5: MULTIPLE VIDEO SOURCES</h2>
<h3 class="subtitle"><a id="ch009-sec037"></a><span class="inlinecodeuserinput">&lt;source&gt;</span></h3>
<p class="text"><a id="page_215"></a>To specify the location of the file to be played, you can use the <span class="inlinecode">&lt;source&gt;</span> element inside the <span class="inlinecode">&lt;video&gt;</span> element. (This should replace the src attribute on the opening <span class="inlinecode">&lt;video&gt;</span> tag.)</p>
<p class="text">You can also use multiple <span class="inlinecode">&lt;source&gt;</span> elements to specify that the video is available in different formats.</p>
<p class="text">(Due to a bug on the iPad, you should provide the MP4 video as the first format. Otherwise, it might not play.)</p>
<h4 class="subtitle"><a id="ch009-sec038"></a><span class="inlinecodeuserinput">src</span></h4>
<p class="text">This attribute specifies the path to the video.</p>
<h4 class="subtitle"><a id="ch009-sec039"></a><span class="inlinecodeuserinput">type</span></h4>
<p class="text">You should use this attribute to tell the browser what format the video is. Otherwise, it will download some of the video to see if it can play the file (which will take time and bandwidth).</p>
<h4 class="subtitle"><a id="ch009-sec040"></a><span class="inlinecodeuserinput">codecs</span></h4>
<p class="text">The codec that was used to encode the video is supplied within the type attribute. Note the use of single quotes, as well as double quotes in the type attribute, when it is supplied.</p>
<p class="center"><img src="images/ch009-Uf012.jpg" alt="image" class="imgepub" width="467" height="380"/></p>
<p class="center"><img src="images/ch009-Uf013.jpg" alt="image" class="imgepub" width="467" height="260"/></p>
<p class="text">If the browser does not support the <span class="inlinecode">&lt;video&gt;</span> element or the format of video used, it will display whatever is between the opening <span class="inlinecode">&lt;video&gt;</span> and closing <span class="inlinecode">&lt;/video&gt;</span> tags.</p>
<h4 class="subtitle"><a id="ch009-sec041"></a>ONLINE EXTRA</h4>
<p class="text">We have provided links to tools that help you encode videos and audio into the correct formats in the Tools section of the website.</p>
<h2 class="subtitle"><a id="ch009-sec042"></a>HTML5: COMBINING FLASH &amp; HTML5 VIDEO</h2>
<p class="text"><a id="page_216"></a>By offering your videos in both HTML5 and Flash Video formats, you will ensure that it can be viewed by the majority of users on your site.</p>
<p class="text">You may choose to offer HTML5 as the first option, and Flash video as a fallback for people whose browser does not support HTML5 video. Or you may work the other way around.</p>
<p class="text">Because some of the video players built in Flash support H264 encoding, if you use a player that supports this format you would only need to provide the video in H264 and WebM formats. (You would not need it in FLV format as well.) You will see this demonstrated in the example at the end of the chapter.</p>
<p class="text">If you start to work with HTML5 video in depth, you can also:</p>
<ul style="list-style-type: disc;">
<li>Create your own playback controls</li>
<li>Provide different versions of the video for browsers that have different sized screens (so you can provide lower resolution content for handheld devices)</li>
<li>Tell different parts of a page to change when the video reaches a certain point</li>
</ul>
<h2 class="subtitle"><a id="ch009-sec043"></a>ADDING AUDIO TO WEB PAGES</h2>
<p class="text"><a id="page_217"></a>By far the most popular format for putting audio on web pages is MP3. As with video, there are three routes commonly taken:</p>
<p class="center"><img src="images/image1.jpg" alt="image" class="imgepub" width="22" height="89"/></p>
<h4 class="subtitle"><a id="ch009-sec044"></a>USE A HOSTED SERVICE</h4>
<p class="text">There are several sites that allow you to upload your audio, and provide a player which you can embed in your page, such as <span class="inlinecode"><a href="http://SoundCloud.com">SoundCloud.com</a></span> and <span class="inlinecode"><a href="http://MySpace.com">MySpace.com</a></span>.</p>
<p class="center"><img src="images/image2-01.jpg" alt="image" class="imgepub" width="60" height="89"/></p>
<h4 class="subtitle"><a id="ch009-sec045"></a>USE FLASH</h4>
<p class="text">There are several Flash movies that allow you to play MP3 files; from simple buttons that play one track to complex players that allow you to create playlists and juke boxes.</p>
<p class="center"><img src="images/image3-01.jpg" alt="image" class="imgepub" width="60" height="90"/></p>
<h4 class="subtitle"><a id="ch009-sec046"></a>USE HTML5</h4>
<p class="text">HTML5 has introduced a new <span class="inlinecode">&lt;audio&gt;</span> element. Browsers that support this element provide their own controls — much as they do for the video files we just looked at.</p>
<p class="text">Some people ask how to get music to play consistently even when visitors move from one page to another on a website.</p>
<p class="text">This is actually quite difficult to achieve and would rely on techniques like using AJAX to load page content or developing the entire site in Flash.</p>
<p class="text">This is why some sites offer audio players in new windows, so that listeners are not interrupted when they move between pages.</p>
<h2 class="subtitle"><a id="ch009-sec047"></a>ADDING A FLASH MP3 PLAYER</h2>
<p class="center"><a id="page_218"></a><img src="images/ch009-Uf014.jpg" alt="image" class="imgepub" width="419" height="467"/></p>
<p class="center"><img src="images/ch009-Uf015.jpg" alt="image" class="imgepub" width="467" height="140"/></p>
<p class="text">There are many MP3 players that have already been written in Flash, such as:</p>
<div class="code">
<pre class="codesnippet">
flash-mp3-player.net
musicplayer.sourceforge.net
www.wimpyplayer.com
</pre>
</div>
<p class="text">Each of these players has different functionality, so check their features before choosing one for your site.</p>
<p class="text">This example uses a free player from <span class="inlinecode"><a href="http://flash-mp3-player.net">flash-mp3-player.net</a></span> which is embedded in the page using the SWFObject technique we met on pages 208-208. The player is told the path to the MP3 file using a parameter called <span class="inlinecode">mp3</span>.</p>
<p class="text">After the second <span class="inlinecode">&lt;script&gt;</span> tag, you can see that we have created two JavaScript variables; the first called <span class="inlinecode">flashvars</span>, the second called <span class="inlinecode">params</span>. Even though we are not using the <span class="inlinecode">flashvars</span> variable, the SWFObject script expects it before the <span class="inlinecode">params</span> variable so we need it there.</p>
<div class="code">
<pre class="codesnippet">
var flashvars = {};
var params = {
  mp3: “music/noise.mp3”};
</pre>
</div>
<p class="text">These variables are then added at the end of the line that embeds the MP3 player in the page (just before the second closing <span class="inlinecode">&lt;script&gt;</span> tag).</p>
<h2 class="subtitle"><a id="ch009-sec048"></a>HTML5: ADDING HTML5 AUDIO TO YOUR PAGES</h2>
<h3 class="subtitle"><a id="ch009-sec049"></a><span class="inlinecodeuserinput">&lt;audio&gt;</span></h3>
<p class="text"><a id="page_219"></a>HTML5 introduced the <span class="inlinecode">&lt;audio&gt;</span> element to include audio files in your pages. As with HTML5 video, browsers expect different formats for the audio.</p>
<p class="text">The <span class="inlinecode">&lt;audio&gt;</span> element has a number of attributes which allow you to control audio playback:</p>
<h4 class="subtitle"><a id="ch009-sec050"></a><span class="inlinecodeuserinput">src</span></h4>
<p class="text">This attribute specifies the path to the audio file.</p>
<h4 class="subtitle"><a id="ch009-sec051"></a><span class="inlinecodeuserinput">controls</span></h4>
<p class="text">This attribute indicates whether the player should display controls. If you do not use this attribute, no controls will be shown by default. You can also specify your own controls using JavaScript.</p>
<h4 class="subtitle"><a id="ch009-sec052"></a><span class="inlinecodeuserinput">autoplay</span></h4>
<p class="text">The presence of this attribute indicates that the audio should start playing automatically. (It is considered better practice to let visitors choose to play audio.)</p>
<p class="center"><img src="images/ch009-Uf016.jpg" alt="image" class="imgepub" width="467" height="340"/></p>
<p class="center"><img src="images/ch009-Uf017.jpg" alt="image" class="imgepub" width="467" height="160"/></p>
<h4 class="subtitle"><a id="ch009-sec053"></a><span class="inlinecodeuserinput">preload</span></h4>
<p class="text">This attribute indicates what the browser should do if the player is not set to <span class="inlinecode">autoplay</span>. It can have the same values we saw on page 214 for the <span class="inlinecode">&lt;video&gt;</span> element.</p>
<h4 class="subtitle"><a id="ch009-sec054"></a><span class="inlinecodeuserinput">loop</span></h4>
<p class="text">This attribute specifies that the audio track should play again once it has finished.</p>
<p class="text">This example only works in browsers that support the Ogg Vorbis audio format (Firefox, Chrome, and Opera). For it to work in Safari 5 and IE 9, the audio would need to be in MP3 format (or use the <span class="inlinecode">&lt;source&gt;</span> element covered on the next page to offer different formats).</p>
<h2 class="subtitle"><a id="ch009-sec055"></a>HTML5: MULTIPLE AUDIO SOURCES</h2>
<p class="center"><a id="page_220"></a><img src="images/ch009-Uf018.jpg" alt="image" class="imgepub" width="467" height="340"/></p>
<p class="center"><img src="images/ch009-Uf019.jpg" alt="image" class="imgepub" width="467" height="160"/></p>
<h4 class="subtitle"><a id="ch009-sec056"></a><span class="inlinecodeuserinput">src</span></h4>
<p class="text">The <span class="inlinecode">&lt;source&gt;</span> element uses the src attribute to indicate where the audio file is located.</p>
<h4 class="subtitle"><a id="ch009-sec057"></a><span class="inlinecodeuserinput">type</span></h4>
<p class="text">At the time of writing, the type attribute was not commonly being used on the <span class="inlinecode">&lt;source&gt;</span> element in the same way it was for the <span class="inlinecode">&lt;video&gt;</span> element.</p>
<h3 class="subtitle"><a id="ch009-sec058"></a><span class="inlinecodeuserinput">&lt;source&gt;</span></h3>
<p class="text">It is possible to specify more than one audio file using the <span class="inlinecode">&lt;source&gt;</span> element between the opening <span class="inlinecode">&lt;audio&gt;</span> and closing <span class="inlinecode">&lt;/audio&gt;</span> tags (instead of the src attribute on the opening <span class="inlinecode">&lt;audio&gt;</span> tag).</p>
<p class="text">This is important because different browsers support different formats for audio files.</p>
<p class="text"><b>MP3:</b> Safari 5+, Chrome 6+, IE9</p>
<p class="text"><b>Ogg Vorbis:</b> Firefox 3.6, Chome 6, Opera 1.5, IE9</p>
<p class="text">So you would need to supply two audio formats to get coverage across all recent browsers that support the <span class="inlinecode">&lt;audio&gt;</span> element. You could also provide a Flash alternative for older browsers that do not support the <span class="inlinecode">&lt;audio&gt;</span> element.</p>
<p class="text">The HTML5 <span class="inlinecode">&lt;audio&gt;</span> tag has not gained as widespread adoption as the <span class="inlinecode">&lt;video&gt;</span> tag, and there have been some issues with audio quality in the first browsers to implement it.</p>
<p class="center"><a id="page_221"></a><img src="images/ch009-Uf020.jpg" alt="image" class="imgepub" width="765" height="700"/></p>
<h2 class="subtitle"><a id="ch009-sec059"></a>EXAMPLE FLASH, VIDEO &amp; AUDIO</h2>
<p class="text"><a id="page_222"></a>This example uses HTML5 to show a video.</p>
<p class="text">The video has been encoded in H264 and WebM formats to reach as many browsers as possible. A Flash player has been added to the page for browsers that do not support HTML5 video. The Flash player is embedded using SWFObject. If the browser does not support HTML5 video or Flash, then a plain text message will be shown to the user.</p>
<div class="code">
<pre class="codesnippet">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Flash, Video and Audio&lt;/title&gt;
    &lt;script type=“text/javascript”
      src=“http://ajax.googleapis.com/ajax/libs/
      swfobject/2.2/swfobject.js”&gt;&lt;/script&gt;
    &lt;script type=“text/javascript”&gt;
      var flashvars = {};
      var params = {movie: “../video/puppy.flv”};
      swfobject.embedSWFC'flash/osplayer.swf”, “snow”,
      “400”, “320”, “8.0.0”, flashvars, params);&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;video poster=“images/puppy.jpg” width=“400”
      height=“320” controls=“controls”&gt;
      &lt;source src=“video/puppy.mp4” type='video/mp4;
        codecs=“avc1.42E01E, mp4a.40.2”' /&gt;
      &lt;source src=“video/puppy.webm” type='video/webm;
        codecs=“vp8, vorbis”' /&gt;
      &lt;div id=“snow”&gt;
        &lt;p&gt;You cannot see this video of a puppy playing
            in the snow because this browser does not
            support our video formats.&lt;/p&gt;
       &lt;/div&gt;
     &lt;/video&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<h2 class="subtitle"><a id="ch009-sec060"></a>SUMMARY FLASH, VIDEO &amp; AUDIO</h2>
<ul style="list-style-image: url(images/rtrif.jpg);">
<li><a id="page_223"></a><a id="page_224"></a>Flash allows you to add animations, video and audio to the web.</li>
<li>Flash is not supported on iPhone or iPad.</li>
<li>HTML5 introduces new <span class="inlinecode">&lt;video&gt;</span> and <span class="inlinecode">&lt;audio&gt;</span> elements for adding video and audio to web pages, but these are only supported in the latest browsers.</li>
<li>Browsers that support the HTML5 elements do not all support the same video and audio formats, so you need to supply your files in different formats to ensure that everyone can see/hear them.</li>
</ul>
</div>
</div>
</body>
</html>