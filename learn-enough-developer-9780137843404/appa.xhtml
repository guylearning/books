<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xml:lang="en"
lang="en"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:epub="http://www.idpf.org/2007/ops">
<head>
<title>Learn Enough Developer Tools to Be Dangerous: Command Line, Text Editor, and Git Version Control Essentials</title>
<link rel="stylesheet" type="text/css" href="override_v1.css"/>
<link rel="stylesheet" type="text/css" href="9780137843268.css"/>
</head>
<body>
<div id="book-content">
<div id="sbo-rt-content"><section epub:type="chapter">
<h2 class="chap-num" id="appendix"><span epub:type="pagebreak" id="page_305"></span>Appendix</h2>
<h2 class="chap-title1">Development Environment</h2>
<p class="noindent">One of the most important tasks for any aspiring developer—or any technical person generally—is setting up their computer as a <em>development environment</em>, making it suitable for developing websites, web applications, and other software. This appendix to <em>Learn Enough Developer Tools to Be Dangerous</em>, also available separately as <em>Learn Enough Dev Environment to Be Dangerous</em> (<a href="https://www.learnenough.com/dev-environment-tutorial">https://www.learnenough.com/dev-environment-tutorial</a>), is designed to complement the main Learn Enough sequence (<a href="https://www.learnenough.com/">https://www.learnenough.com/</a>) and the <em>Ruby on Rails Tutorial</em> (<a href="https://www.railstutorial.org/">https://www.railstutorial.org/</a>) by putting all of the relevant material in one place.<sup><a id="rfnapp_1" href="appa.xhtml#fnapp_1">1</a></sup></p>
<p class="footnote"><a id="fnapp_1" href="appa.xhtml#rfnapp_1">1.</a> <em>Learn Enough Dev Environment to Be Dangerous</em> was prepared with the help of Learn Enough cofounders Lee Donahoe and Nick Merwin.</p>
<p class="indent"><em>Learn Enough Dev Environment to Be Dangerous</em> covers several options for setting up a dev environment, aimed at readers of varying levels of experience and sophistication. If you end up using the option shown in <a href="appa.xhtml#app2">Section A.2</a>, there is no minimum prerequisite for this tutorial other than general computer knowledge. If you want to follow the more challenging setup in <a href="appa.xhtml#app3">Section A.3</a>—which we recommend most readers tackle at some point—you should have a basic familiarity with the Unix command line (as covered in <em>Learn Enough Command Line to Be Dangerous</em> (<a href="https://www.learnenough.com/command-line">https://www.learnenough.com/command-line</a>)), and a familiarity with text editors and system configuration (as covered in <em>Learn Enough Text Editor to Be Dangerous</em> (<a href="https://www.learnenough.com/text-editor">https://www.learnenough.com/text-editor</a>)) is recommended.</p>
<p class="indent">Ebook versions of this material are available for free at learnenough.com. See the online version at <a href="http://learnenough.com/dev-environment">learnenough.com/dev-environment</a> (<a href="https://www.learnenough.com/dev-environment">https://www.learnenough.com/dev-environment</a>) for the most up-to-date instructions on setting up a development environment.</p>
<section>
<h3 class="h3" id="app1"><span epub:type="pagebreak" id="page_306"></span>A.1 Dev Environment Options</h3>
<p class="noindent">Our focus in this appendix is on installing or otherwise enabling the following four fundamental tools of software development (<a href="appa.xhtml#figapp-1">Figure A.1</a>):</p>
<ol class="number">
<li><p class="number">Command-line terminal (“shell”)</p></li>
<li><p class="number">Text editor</p></li>
<li><p class="number">Version control (Git)</p></li>
<li><p class="number">Programming languages (Ruby, etc.)</p></li>
</ol>
<p class="noindent">For more information on these different types of software application, see <em>Learn Enough Command Line to Be Dangerous</em>, <em>Learn Enough Text Editor to Be Dangerous</em>, <em>Learn Enough Git to Be Dangerous</em> (<a href="https://www.learnenough.com/git">https://www.learnenough.com/git</a>), and <em>Learn Enough Ruby to Be Dangerous</em> (<a href="https://www.learnenough.com/ruby">https://www.learnenough.com/ruby</a>).</p>
<p class="indent">When setting up a development environment, there are two main possibilities we recommend, listed in increasing order of difficulty:</p>
<ol class="number">
<li><p class="number">Cloud IDE</p></li>
<li><p class="number">Native OS (macOS, Linux, Windows)</p></li>
</ol>
<figure class="figure" id="figapp-1">
<img src="graphics/appfig01.jpg" alt="Image" width="744" height="418"/>
<figcaption>
<p class="title-f"><strong>Figure A.1:</strong> Typical elements of a dev environment.</p>
</figcaption>
</figure>
<p class="indent"><span epub:type="pagebreak" id="page_307"></span>If you’re relatively inexperienced, we recommend starting with the cloud IDE (<a href="appa.xhtml#app2">Section A.2</a>), as it has the least difficult setup process.</p>
<section>
<h4 class="h4" id="app01lev1_sec1">Native System</h4>
<p class="noindent">While the IDE option is great when you’re just getting started, eventually it’s important to be able to develop software on your native operating system (OS). Unfortunately, setting up a fully functional native development environment can be a challenging and frustrating process<sup><a id="rfnapp_2" href="appa.xhtml#fnapp_2">2</a></sup>—likely leaving ample opportunity to exercise your technical sophistication (<a href="appa.xhtml#boxa-1">Box A.1</a>)—but it is an essential rite of passage for every aspiring technical wizard.</p>
<p class="footnote"><a id="fnapp_2" href="appa.xhtml#rfnapp_2">2.</a> This is why it’s such a bad idea to include a native dev setup at the beginning of a book like the <em>Ruby on Rails Tutorial</em> (<a href="https://www.railstutorial.org/book">https://www.railstutorial.org/book</a>). It’s better to get started with the core material first, and tackle the native dev environment setup later. The switch over to a cloud IDE in the third edition of the <em>Ruby on Rails Tutorial</em> was motivated by this realization.</p>
<p class="indent">In order to tackle this difficult challenge, in <a href="appa.xhtml#app3">Section A.3</a> we’ll discuss native OS setup for macOS, Linux, and Windows.</p>
<aside epub:type="sidebar" class="sidebar1">
<p class="sb-title1" id="boxa-1">Box A.1: Technical Sophistication</p>
<p class="box-no"><em>Technical sophistication</em> is the ability to independently solve technical problems. In the context of installing a development environment, this means knowing to Google the error message if something goes wrong, to try quitting and restarting an application (such as the command-line shell) to see if that fixes things, etc.</p>
<p class="box-ind">So many things can go wrong when setting up a development environment that there’s rarely a general solution to the problem—you just have to keep applying your technical sophistication until you get everything to work. And if you do get stuck, don’t worry too much about it—at some point or another, it happens to us all.</p>
</aside>
</section>
</section>
<section>
<h3 class="h3" id="app2">A.2 Cloud IDE</h3>
<p class="noindent">The easiest dev environment option is a <em>cloud IDE</em>, which is an integrated development environment in the cloud that you access using the web browser of your choice. Although easy to activate, the resulting system is an industrial-grade development <span epub:type="pagebreak" id="page_308"></span>machine, not a toy. In addition, the cloud IDE automatically works cross-platform, since all you need is an ordinary web browser to use it (which every major OS provides).</p>
<figure class="figure" id="figapp-2">
<img src="graphics/appfig02.jpg" alt="Image" width="744" height="573"/>
<figcaption>
<p class="title-f"><strong>Figure A.2:</strong> The anatomy of the cloud IDE.</p>
</figcaption>
</figure>
<p class="indent">There are several commercial options for running a cloud IDE, and as part of developing the <em>Ruby on Rails Tutorial</em> we partnered with Cloud9 (part of Amazon Web Services). The resulting environment is appropriate for Ruby on Rails web development, and as a matter of course includes all the elements mentioned in <a href="appa.xhtml#app1">Section A.1</a>. In particular, AWS Cloud9 comes equipped with a command-line terminal and a text editor (including a filesystem navigator), as shown in <a href="appa.xhtml#figapp-2">Figure A.2</a>. Because each Cloud9 workspace provides a full working Linux system, it also automatically includes the Git version control system, as well as Ruby and several other programming languages.</p>
<p class="indent"><span epub:type="pagebreak" id="page_309"></span>Here are the steps for getting started with the cloud development environment:<sup><a id="rfnapp_3" href="appa.xhtml#fnapp_3">3</a></sup></p>
<p class="footnote"><a id="fnapp_3" href="appa.xhtml#rfnapp_3">3.</a> Due to the constantly evolving nature of sites like AWS, details may vary; use your technical sophistication (<a href="appa.xhtml#boxa-1">Box A.1</a>) to resolve any discrepancies.</p>
<ol class="number">
<li><p class="number">Because Cloud9 is part of Amazon Web Services (AWS), if you already have an AWS account you can just sign in.<sup><a id="rfnapp_4" href="appa.xhtml#fnapp_4">4</a></sup> To create a new Cloud9 workspace environment, go to the AWS console and type “Cloud9” in the search box.</p>
<p class="footnote"><a id="fnapp_4" href="appa.xhtml#rfnapp_4">4.</a> <a href="https://aws.amazon.com/">https://aws.amazon.com/</a></p></li>
<li><p class="number">If you don’t already have an AWS account, you should sign up for a free account at AWS Cloud9.<sup><a id="rfnapp_5" href="appa.xhtml#fnapp_5">5</a></sup> In order to prevent abuse, AWS requires a valid credit card for signup, but the workspace is 100% free (for a year as of this writing), and your card will not be charged. You might have to wait up to 24 hours for the account to be activated, but in my case it was ready in about ten minutes.</p>
<p class="footnote"><a id="fnapp_5" href="appa.xhtml#rfnapp_5">5.</a> <a href="https://www.railstutorial.org/cloud9-signup">https://www.railstutorial.org/cloud9-signup</a></p></li>
<li><p class="number">Once you’ve successfully gotten to the Cloud9 administrative page (<a href="appa.xhtml#figapp-3">Figure A.3</a>), keep clicking on “Create environment” until you find yourself on a page that looks like <a href="appa.xhtml#figapp-4">Figure A.4</a>. Enter the information as shown there, then make sure to choose <strong>Ubuntu Server</strong> (<em>not</em> Amazon Linux) (<a href="appa.xhtml#figapp-5">Figure A.5</a>). Finally, keep clicking the confirmation buttons until Cloud9 starts provisioning the IDE (<a href="appa.xhtml#figapp-6">Figure A.6</a>). You may run into a warning message about being a “root” user, which you can safely ignore at this early stage. (If you’re feeling up to it, you can implement the preferred method, called an Identity and Access Management (IAM) user, at this point. (See Chapter 13 in the <em>Ruby on Rails Tutorial</em> (<a href="https://www.railstutorial.org/book/user_microposts#sec-image_upload_in_production">https://www.railstutorial.org/book/user_microposts#sec-image_upload_in_production</a>) for more information.)</p></li>
<li><p class="number">Finally, make sure you’re running an up-to-date version of Git (<a href="appa.xhtml#listapp-1">Listing A.1</a>).</p></li>
</ol>
<p class="indent">Because using two spaces for indentation is a near-universal convention in Ruby, I also recommend changing the editor to use two spaces instead of the default four. As shown in <a href="appa.xhtml#figapp-7">Figure A.7</a>, you can do this by clicking the gear icon in the upper right and then changing the Soft Tabs setting to 2. (Note that this takes effect immediately; you don’t need to click a Save button.)</p>
<figure class="figure" id="figapp-3">
<img src="graphics/appfig03.jpg" alt="Image" width="744" height="567"/>
<figcaption>
<p class="title-f"><strong>Figure A.3:</strong> The administrative page for Cloud9.</p>
</figcaption>
</figure>
<span epub:type="pagebreak" id="page_310"></span>
<p class="list-head" id="listapp-1"><strong>Listing A.1:</strong> Upgrading Git (if necessary).</p>
<p class="codelink"><a href="appa_images.xhtml#alis01" id="alis01a">Click here to view code image</a></p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> git --version
<span class="dblue"><strong>#</strong></span> If the version number isn’t greater than <span class="blueg">2</span>.28.0, run the following command:
<span class="dblue"><strong>$</strong></span> <span class="lgreen">source</span> <span class="gray1">&lt;</span>(curl -sL https://cdn.learnenough.com/upgrade_gi<span class="gray1">t)</span></pre>
</div>
<p class="indent">It’s also important to use a compatible version of Node.js (<a href="https://nodejs.org/en/">https://nodejs.org/en/</a>):</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> nvm install <span class="gray1">16</span>.13.0
<span class="dblue"><strong>$</strong></span> node -v
<span class="green">v16.13.0</span></pre>
<p class="indent">Finally, as of this writing the Learn Enough tutorials standardize on Ruby 2.7.4, which you can install on the cloud IDE as follows:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> rvm install <span class="gray1">2</span>.7.4</pre>
<figure class="figure" id="figapp-4">
<img src="graphics/appfig04.jpg" alt="Image" width="744" height="572"/>
<figcaption>
<p class="title-f"><strong>Figure A.4:</strong> Creating a new work environment at AWS Cloud9.</p>
</figcaption>
</figure>
<p class="noindent"><span epub:type="pagebreak" id="page_311"></span>(This uses Ruby Version Manager (<a href="https://rvm.io/">https://rvm.io/</a>), which comes preinstalled on the cloud IDE.) Once that command is finished, you can verify the Ruby version as follows:</p>
<p class="codelink"><a href="appa_images.xhtml#f000311-01" id="f000311-01a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> ruby -v
<span class="green">ruby 2.7.4p191 (2021-07-07 revision a21a3b7d23) [x86_64-linux]</span></pre>
<p class="noindent">(Exact version numbers may differ.)</p>
<p class="indent">At this point, you’re done! Although Internet access is required to use Cloud9, there is no alternative that combines so much power with such an easy setup.</p>
<figure class="figure" id="figapp-5">
<img src="graphics/appfig05.jpg" alt="Image" width="744" height="564"/>
<figcaption>
<p class="title-f"><strong>Figure A.5:</strong> Selecting <strong>Ubuntu Server</strong>.</p>
</figcaption>
</figure>
</section>
<section>
<h3 class="h3" id="app3"><span epub:type="pagebreak" id="page_312"></span>A.3 Native OS Setup</h3>
<p class="noindent">As mentioned in <a href="appa.xhtml#app1">Section A.1</a>, setting up your native operating system as a development environment can be challenging, but it is an important step to take once you’ve reached a certain level of technical sophistication. The cloud IDE option is a great place to start, but eventually you have to grab the bull by the horns (<a href="appa.xhtml#figapp-8">Figure A.8</a>)<sup><a id="rfnapp_6" href="appa.xhtml#fnapp_6">6</a></sup> and bend your native system to your will.</p>
<p class="footnote"><a id="fnapp_6" href="appa.xhtml#rfnapp_6">6.</a> Image courtesy of Rafael Ben-Ari/Alamy Stock Photo.</p>
<p class="indent"><a href="appa.xhtml#app3-1">Section A.3.1</a> covers the conversion of macOS to a fully equipped development environment, while <a href="appa.xhtml#app3-2">Section A.3.2</a> does the same for Linux. We cover Microsoft Windows options in <a href="appa.xhtml#app3-3">Section A.3.3</a>, but (as mentioned briefly in <a href="appa.xhtml#app1">Section A.1</a>) this section currently defers to the cloud IDE option in <a href="appa.xhtml#app2">Section A.2</a>.</p>
<figure class="figure" id="figapp-6">
<img src="graphics/appfig06.jpg" alt="Image" width="744" height="569"/>
<figcaption>
<p class="title-f"><strong>Figure A.6:</strong> The default cloud IDE.</p>
</figcaption>
</figure>
<section>
<h4 class="h4" id="app3-1"><span epub:type="pagebreak" id="page_313"></span>A.3.1 macOS</h4>
<p class="noindent">The native Macintosh operating system, originally called Mac OS X and now known simply as <em>macOS</em>, has a polished graphical user interface (GUI) while being built on a solid Unix foundation. As a result, macOS is ideally suited for use as a programmer’s development environment.</p>
<p class="indent">The steps in this section constitute more than just a minimal system; you can actually get away with doing a lot less, but your three authors all use macOS themselves, and we feel that it’s important not to shortchange you with a half-baked setup.</p>
<section>
<h5 class="h5" id="app01lev1_sec2">Terminal and Editor</h5>
<p class="noindent">Although macOS comes with a native terminal program, we recommend installing iTerm (<a href="https://iterm2.com/downloads.html">https://iterm2.com/downloads.html</a>), which includes various enhancements that make it better than the default for developers and other technical users.</p>
<figure class="figure" id="figapp-7">
<img src="graphics/appfig07.jpg" alt="Image" width="744" height="563"/>
<figcaption>
<p class="title-f"><strong>Figure A.7:</strong> Setting Cloud9 to use two spaces for indentation.</p>
</figcaption>
</figure>
<p class="indent"><span epub:type="pagebreak" id="page_314"></span>We also recommend installing a programmer’s text editor. There are lots of excellent choices, but the Atom editor (<a href="https://atom.io/">https://atom.io/</a>) (covered in <em>Learn Enough Text Editor to Be Dangerous</em>) is a good place to start if you don’t already have a favorite.</p>
<p class="indent">By the way, for the Learn Enough tutorials and the Rails Tutorial, it is generally recommended that you use the Bourne-again shell (Bash) rather than the default Z shell (although it often doesn’t matter). To switch your shell to Bash, run <span class="green"><code><strong>chsh -s /bin/bash</strong></code></span> at the command line, enter your password, and restart your terminal program. Any resulting alert messages are safe to ignore. See the Learn Enough blog post “Using Z Shell on Macs with the Learn Enough Tutorials” (<a href="https://news.learnenough.com/macos-bash-zshell">https://news.learnenough.com/macos-bash-zshell</a>) for more information.</p>
<figure class="figure" id="figapp-8">
<img src="graphics/appfig08.jpg" alt="Image" width="744" height="495"/>
<figcaption>
<p class="title-f"><strong>Figure A.8:</strong> Sometimes you have to grab the bull by the horns.</p>
</figcaption>
</figure>
</section>
<section>
<h5 class="h5" id="app01lev1_sec3"><span epub:type="pagebreak" id="page_315"></span>Xcode Command-Line Tools</h5>
<p class="noindent">Although based on Unix,<sup><a id="rfnapp_7" href="appa.xhtml#fnapp_7">7</a></sup> macOS doesn’t ship with all the software necessary for a proper development environment. In order to fill this gap, macOS users should install <em>Xcode</em>, a large suite of development tools and code libraries created by Apple.</p>
<p class="footnote"><a id="fnapp_7" href="appa.xhtml#rfnapp_7">7.</a> Specifically, the NeXT system developed by the company Steve Jobs founded in 1985 after being ousted from Apple. The NeXT OS became the foundation for Mac OS X (later, macOS) after Apple acquired NeXT in 1997, which also led to Jobs’ triumphant return as Apple CEO.</p>
<p class="indent">Xcode used to require a 4+ GB download of installation source files, but thankfully Apple has recently made Xcode incredibly quick and easy to install with a simple command-line command, as shown in <a href="appa.xhtml#listapp-2">Listing A.2</a>.</p>
<p class="list-head" id="listapp-2"><strong>Listing A.2:</strong> Installing Xcode command-line tools.</p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> xcode-select --install</pre>
</div>
</section>
<section>
<h5 class="h5" id="app01lev1_sec4"><span epub:type="pagebreak" id="page_316"></span>Homebrew</h5>
<p class="noindent">The next step is technically optional, but in our view it is necessary for a truly professional-grade macOS dev environment: namely, installing the outstanding <em>Homebrew</em> package manager.</p>
<p class="indent">You can think of a package manager as an App Store that runs at the command line and is filled with free open-source software. Nowadays most Linux distributions come with a native package manager (<a href="appa.xhtml#app3-2">Section A.3.2</a>), but by default macOS doesn’t have one. Homebrew is one of many managers that is available in the open-source community, but over time it has become the most popular option among serious macOS developers.</p>
<p class="indent">As we’ll see in <a href="appa.xhtml#app3-1">Section A.3.1</a>, we’ll be using a program called <em>rbenv</em> to install Ruby, which in turn will be installed via Homebrew in <a href="appa.xhtml#app3-1">Section A.3.1</a>. But Homebrew itself requires Ruby, so it seems like we might have run into a circular dependency. Happily, macOS ships with a <em>system Ruby</em> that we can use to bootstrap the installation. We’ll use this default Ruby to install Homebrew, and then we’ll install rbenv and additional Ruby versions as outlined above.</p>
<p class="indent">The Homebrew installation program is a Bash script (<a href="https://www.learnenough.com/text-editor-tutorial/advanced_text_editing#sec-writing_an_executable_script">https://www.learnenough.com/text-editor-tutorial/advanced_text_editing#sec-writing_an_executable_script</a>), and can be accessed using the <span class="green"><code><strong>curl</strong></code></span> program covered in <a href="ch03.xhtml#ch03lev1">Section 3.1</a>. We can execute the Homebrew installation script using the system <span class="green"><code><strong>bash</strong></code></span> executable, which is located in the <span class="green"><code><strong>/bin</strong></code></span> directory. The full command appears as in <a href="appa.xhtml#listapp-3">Listing A.3</a>.</p>
<p class="list-head" id="listapp-3"><strong>Listing A.3:</strong> Installing the Homebrew package manager.</p>
<p class="codelink"><a href="appa_images.xhtml#alis03" id="alis03a">Click here to view code image</a></p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> /bin/bash -c <span class="brown">"</span><span class="lgreen"><strong>$(</strong></span>curl -fsSL https://www.learnenough.com/homebrew.sh<span class="lgreen"><strong>)</strong></span><span class="brown">"</span></pre>
</div>
<p class="noindent">Note that <a href="appa.xhtml#listapp-3">Listing A.3</a> uses a learnenough.com forwarding URL, which points to the current Homebrew installation script. This way, if Homebrew changes the URL used to host the script, we can simply update the forwarding address, and this tutorial will continue to work as written. (You can also just copy and paste the full command from the Homebrew home page (<a href="https://brew.sh/">https://brew.sh/</a>) if you like.)</p>
<p class="indent">Homebrew installs a <span class="green"><code><strong>brew</strong></code></span> command-line command used for installing, updating, and removing packages. After the installation of Homebrew finishes, it’s a good idea <span epub:type="pagebreak" id="page_317"></span>to run <span class="green"><code><strong>brew doctor</strong></code></span>, which ensures that all of the directories and permissions needed by Homebrew to manage local files are correctly set up:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> brew doctor</pre>
<p class="noindent">If you have any problems at this point, you’ll need to refer to the Homebrew troubleshooting wiki (<a href="https://docs.brew.sh/Troubleshooting">https://docs.brew.sh/Troubleshooting</a>), but you really shouldn’t unless you’ve been making changes to random system folders and permissions.</p>
</section>
<section>
<h5 class="h5" id="app01lev1_sec5">Ruby Environment (rbenv)</h5>
<p class="noindent">As we’ve just seen, macOS comes with Ruby preinstalled, but we don’t have any control over the exact version, and macOS doesn’t natively allow us to use multiple versions of Ruby in parallel. To give us more flexibility with our development environment, we’ll install <em>rbenv</em>, which is a utility that manages different Ruby versions and makes sure that Ruby software packages (called <em>gems</em>) get placed in the right spot for Ruby to find.</p>
<p class="indent">Using rbenv together with the associated <em>ruby-build</em> command also allows us to specify a different version of Ruby for different project repositories, which is a common task in software development.<sup><a id="rfnapp_8" href="appa.xhtml#fnapp_8">8</a></sup> For example, an older version of a program might need an older version of Ruby to run correctly. Using rbenv means we can support such an older program while still running a more up-to-date version of Ruby for our other projects.</p>
<p class="footnote"><a id="fnapp_8" href="appa.xhtml#rfnapp_8">8.</a> E.g., the <em>virtualenv</em> utility accomplishes a similar task for Python projects.</p>
<p class="indent">Installing rbenv is easy with Homebrew. We can install both rbenv and ruby-build in one step using <span class="green"><code><strong>brew install rbenv</strong></code></span>, as shown in <a href="appa.xhtml#listapp-4">Listing A.4</a>.</p>
<p class="list-head" id="listapp-4"><strong>Listing A.4:</strong> Installing rbenv and ruby-build.</p>
<p class="codelink"><a href="appa_images.xhtml#alis04" id="alis04a">Click here to view code image</a></p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> brew install rbenv   <span class="blue"><em># automatically installs ruby-build as well</em></span></pre>
</div>
<p class="indent">After the installation from <a href="appa.xhtml#listapp-4">Listing A.4</a> finishes, we need to get rbenv up and running using <span class="green"><code><strong>rbenv init</strong></code></span>, as shown in <a href="appa.xhtml#listapp-5">Listing A.5</a>.</p>
<p class="indent"><em>Note</em>: If you’re using Zsh instead, substitute <span class="green"><code><strong>.zshrc</strong></code></span> for <span class="green"><code><strong>.bash_profile</strong></code></span> in this section. See “Using Z Shell on Macs with the Learn Enough Tutorials ” for more information.</p>
<span epub:type="pagebreak" id="page_318"></span>
<p class="list-head" id="listapp-5"><strong>Listing A.5:</strong> Initializing rbenv.</p>
<p class="codelink"><a href="appa_images.xhtml#alis05" id="alis05a">Click here to view code image</a></p>
<div class="box2">
<pre class="pre"><span class="back-yellow">$ rbenv init</span>
<span class="dblue"><strong>#</strong></span> Load rbenv automatically by appending
<span class="dblue"><strong>#</strong></span> the following to ~/.bash_profile <span class="gray1">(</span>or ~/.zshrc <span class="lgreen"><strong>if</strong></span> using Zsh<span class="gray1">)</span>:

<span class="green">eval "$(rbenv init -)"</span></pre>
</div>
<p class="noindent">If <a href="appa.xhtml#listapp-5">Listing A.5</a> gives you an error message like “No such file or directory.”, try exiting your shell program with Ctrl-D and restarting it, and then try the command again. (This sort of restart-and-retry technique is classic technical sophistication (<a href="appa.xhtml#boxa-1">Box A.1</a>).)</p>
<p class="indent">As seen in <a href="appa.xhtml#listapp-5">Listing A.5</a>, running <span class="green"><code><strong>rbenv init</strong></code></span> gives us a suggestion for how to avoid having to initialize rbenv by hand each time: We simply need to append the line</p>
<pre class="box-pre1"><span class="lgreen">eval</span> <span class="brown">"</span><span class="lgreen"><strong>$(</strong></span>rbenv init -<span class="lgreen"><strong>)</strong></span><span class="brown">"</span></pre>
<p class="noindent">to our Bash profile file <span class="green"><code><strong>.bash_profile</strong></code></span> (<a href="ch05.xhtml#ch05lev4">Section 5.4</a>).</p>
<p class="indent">If you prefer, you can use a text editor to add the <span class="green"><code><strong>eval</strong></code></span> line to your system’s <span class="green"><code><strong>.bash_profile</strong></code></span> file, but the easiest way is to use <span class="green"><code><strong>echo</strong></code></span> and the append operator <span class="green"><code><strong>&gt;&gt;</strong></code></span> covered in <a href="ch02.xhtml#ch02lev1">Section 2.1</a>, like this:</p>
<p class="codelink"><a href="appa_images.xhtml#p318pro01" id="p318pro01a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> <span class="lgreen">echo</span> <span class="brown">'eval "$(rbenv init -)"'</span> &gt;&gt; ~/.bash_profile   <span class="blue"><em># or ~/.zshrc if using Zsh</em></span></pre>
<p class="noindent">Note that we’ve included the home directory <span class="green"><code><strong>~</strong></code></span> in the path so that it works no matter which directory we’re currently in.</p>
<p class="indent">Finally, to activate the new profile file we need to <span class="green"><code><strong>source</strong></code></span> it (as seen in <a href="ch05.xhtml#list5-5">Listing 5.5</a>):</p>
<p class="codelink"><a href="appa_images.xhtml#p318pro02" id="p318pro02a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> <span class="lgreen">source</span> ~/.bash_profile   <span class="blue"><em># or ~/.zshrc if using Zsh</em></span></pre>
</section>
<section>
<h5 class="h5" id="app01lev1_sec6">New Ruby Version</h5>
<p class="noindent">Now that rbenv is set up, let’s give it a non-system version of Ruby to manage. The installation process is handled entirely by rbenv, so all you have to do is tell it which version you’d like on your system by passing along the exact Ruby version number.</p>
<p class="indent">We’ll use Ruby 2.7.4 in this tutorial, which as of this writing works with a wide variety of Ruby applications, but you can also use a current or previous version as listed at the Ruby website.</p>
<p class="indent"><span epub:type="pagebreak" id="page_319"></span>To install the desired version of Ruby using <span class="green"><code><strong>rbenv</strong></code></span>, simply execute the command shown in <a href="appa.xhtml#listapp-6">Listing A.6</a>. If your system ever complains that the given Ruby version isn’t available, you’ll have to update your system to access the latest version (<a href="appa.xhtml#boxa-2">Box A.2</a>).</p>
<p class="list-head" id="listapp-6"><strong>Listing A.6:</strong> Installing a fresh copy of Ruby.</p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> rbenv install <span class="gray1">2</span>.7.4</pre>
</div>
<p class="noindent">After running the command in <a href="appa.xhtml#listapp-6">Listing A.6</a>, you should see rbenv start the download process and install any dependencies that are needed for that specific version of Ruby (which might take a while depending on bandwidth and CPU limitations).</p>
<p class="indent"><em>Note</em>: You may get an error message of the form</p>
<p class="codelink"><a href="appa_images.xhtml#f000319-01" id="f000319-01a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="green">ruby-build: definition not found: 2.7.4</span>

<span class="green">See all available versions with `rbenv install --list'.</span>

<span class="green">If the version you need is missing, try upgrading ruby-build:</span>

  <span class="green">brew update &amp;&amp; brew upgrade ruby-build</span></pre>
<p class="noindent">If this happens, you should clone the freshest <span class="green"><code><strong>ruby-build</strong></code></span> list into the rbenv <span class="green"><code><strong>plugins</strong></code></span> directory:</p>
<p class="codelink"><a href="appa_images.xhtml#f000319-02" id="f000319-02a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> mkdir ~/.rbenv/plugins
<span class="dblue"><strong>$</strong></span> git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build</pre>
<p class="noindent">If <span class="green"><code><strong>ruby-build</strong></code></span> is already there, you can simply <span class="green"><code><strong>pull</strong></code></span> in the latest changes:</p>
<p class="codelink"><a href="appa_images.xhtml#f000319-03" id="f000319-03a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> <span class="lgreen">cd</span> ~/.rbenv/plugins <span class="gray1">&amp;&amp;</span> git pull <span class="gray1">&amp;&amp;</span> <span class="lgreen">cd</span> -</pre>
<aside epub:type="sidebar" class="sidebar1">
<p class="sb-title1" id="boxa-2"><strong>Box A.2: Updating and Upgrading</strong></p>
<p class="box-no">Although we just installed fresh versions of all relevant software, after a while your local system will get out of sync with the latest versions of Homebrew and any installed packages. In order to update the system, every once in a while it’s a good idea to update Homebrew itself and then upgrade the installed packages as follows:</p>
</aside>
<pre class="box-pre1">   $ brew update
   $ brew upgrade</pre>
<p class="indent"><span epub:type="pagebreak" id="page_320"></span>After the Ruby installation finishes, we need to tell the system that there’s a new version of Ruby using the obscurely named <span class="green"><code><strong>rehash</strong></code></span> command:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> rbenv rehash</pre>
<p class="indent">For this guide, we are also going to set the Ruby version from <a href="appa.xhtml#listapp-6">Listing A.6</a> as the global default so that you won’t have to worry about specifying the Ruby version when you start your project. The way to do this is with the <span class="green"><code><strong>global</strong></code></span> command:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> rbenv global <span class="blueg">2</span>.7.4</pre>
<p class="noindent">At this point, it’s probably a good idea to restart your shell program to make sure all the settings are properly updated.</p>
<p class="indent">For future work, you may want to use specific versions of Ruby on a per-project basis, which can be done by creating a file called <span class="green"><code><strong>.ruby-version</strong></code></span> in the project’s root directory and including the version of Ruby to be used. (If it isn’t already present on your system, you’ll also have to install it using <span class="green"><code><strong>rbenv install &lt;version number&gt;</strong></code></span> as in <a href="appa.xhtml#listapp-6">Listing A.6</a>.) See the rbenv documentation (<a href="https://github.com/rbenv/rbenv">https://github.com/rbenv/rbenv</a>) for more information.</p>
<p class="indent">Finally, when installing Ruby software via <em>gems</em>, or self-contained packages of Ruby code, it’s often convenient to skip the installation of the local documentation, which can take more time to install than the software itself, and in any case is more conveniently accessed online. Preventing documentation installation can be done on a case-by-case basis, but it’s more convenient to make it a global default by creating a file in the home directory called <span class="green"><code><strong>.gemrc</strong></code></span> with instructions to skip the rarely used (and time-consuming to install) Ruby documentation files, as shown in <a href="appa.xhtml#listapp-7">Listing A.7</a>.</p>
<p class="list-head" id="listapp-7"><strong>Listing A.7:</strong> Configuring the <span class="green"><code><strong>.gemrc</strong></code></span> file to skip the installation of Ruby documentation.</p>
<p class="codelink"><a href="appa_images.xhtml#alis07" id="alis07a">Click here to view code image</a></p>
<div class="box2">
<pre class="pre"><span class="dblue"><strong>$</strong></span> <span class="lgreen">echo</span> <span class="brown">"gem: --no-document"</span> &gt;&gt; ~/.gemrc</pre>
</div>
<p class="noindent">With that configuration, any uses of <span class="green"><code><strong>gem install &lt;gem name&gt;</strong></code></span> to install Ruby gems will automatically be svelte, streamlined, and documentation-free.</p>
</section>
<section>
<h5 class="h5" id="app01lev1_sec7"><span epub:type="pagebreak" id="page_321"></span>Git</h5>
<p class="noindent">A recent version of the Git version control system should come automatically with the Xcode command-line tools installed in <a href="appa.xhtml#app3-1">Section A.3.1</a>, which you can verify using the <span class="green"><code><strong>which</strong></code></span> command:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> which git</pre>
<p class="noindent">If the result of this is blank, it means Git isn’t installed, and you can install it with Homebrew:</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> brew install git</pre>
<p class="indent">Either way, you should check to make sure that the Git version number is at least <span class="green"><code><strong>2.28.0</strong></code></span>:</p>
<p class="codelink"><a href="appa_images.xhtml#f000321-01" id="f000321-01a">Click here to view code image</a></p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> git --version
<span class="green">git version 2.31.1   # should be at least 2.28.0</span></pre>
<p class="noindent">If the version number isn’t recent enough, you should run <span class="green"><code><strong>brew update</strong></code></span> and then run <span class="green"><code><strong>brew upgrade git</strong></code></span>.</p>
</section>
</section>
<section>
<h4 class="h4" id="app3-2">A.3.2 Linux</h4>
<p class="noindent">Because of Linux’s highly technical origins, Linux systems typically come well-equipped with developer tools. As a result, setting up a native Linux OS as a dev environment is especially simple.</p>
<p class="indent">Every major Linux distribution ships with a terminal program, a text editor, and Git. There are only four major steps we recommend in addition to the defaults:</p>
<ol class="number">
<li><p class="number">Download and install Atom if you don’t already have a favorite editor.</p></li>
<li><p class="number">Follow the rbenv installation instructions (<a href="https://github.com/rbenv/rbenv#installation">https://github.com/rbenv/rbenv#installation</a>) from the rbenv website.</p></li>
<li><p class="number">Install and configure Ruby as shown in <a href="appa.xhtml#listapp-6">Listing A.6</a> and <a href="appa.xhtml#listapp-7">Listing A.7</a>.</p></li>
<li><p class="number">Make sure that the Git version number is at least <span class="green"><code><strong>2.28.0</strong></code></span>.</p></li>
</ol>
<p class="noindent"><span epub:type="pagebreak" id="page_322"></span>The final step can be accomplished by running</p>
<pre class="box-pre1"><span class="dblue"><strong>$</strong></span> git --version</pre>
<p class="noindent">If the output isn’t at least <span class="green"><code><strong>2.28.0</strong></code></span>, go to “Getting Started – Installing Git” (<a href="https://gitscm.com/book/en/v2/Getting-Started-Installing-Git">https://gitscm.com/book/en/v2/Getting-Started-Installing-Git</a>) and install the latest version for your system.</p>
<p class="indent">At this point, you should be good to go!</p>
</section>
<section>
<h4 class="h4" id="app3-3">A.3.3 Windows</h4>
<p class="noindent">Finally, we have native instructions for Microsoft Windows—or, rather, instructions for using Unix on Windows. As discussed in <a href="appa.xhtml#app2">Section A.2</a>, one possibility is to use a cloud IDE, but we’ve had reports of especially good results with installing Linux directly in Windows.</p>
<p class="indent">That’s right! Believe it or not, Windows now ships with a working Linux kernel, and you can install any of a number of Linux distributions by following Microsoft’s own instructions. (To those of us who remember the Linux-hating, predatory Microsoft of the late ’90s/early 2000s, the idea that Windows would someday ship with native Linux support is truly incredible—<em>dogs and cats, living together!</em>—and yet here we are.)</p>
<p class="indent">To get everything working, our recommendation is to follow the tutorial article “Ruby on Rails on Windows is not just possible, it’s fabulous using WSL2 and VS Code” (<a href="https://www.hanselman.com/blog/ruby-on-rails-on-windows-is-not-just-possible-its-fabulous-using-wsl2-and-vs-code">https://www.hanselman.com/blog/ruby-on-rails-on-windows-is-not-just-possible-its-fabulous-using-wsl2-and-vs-code</a>) by Scott Hanselman (<a href="https://www.hanselman.com/">https://www.hanselman.com/</a>). Although especially useful for Ruby on Rails web development, Hanselman’s tutorial is of quite general applicability, and following it should result in a fantastic general development experience on Windows.</p>
</section>
</section>
<section>
<h3 class="h3" id="app4">A.4 Conclusion</h3>
<p class="noindent">If you’ve made it this far—and especially if you completed a native OS setup in <a href="appa.xhtml#app3">Section A.3</a>—you’ve now learned enough dev environment to be <em>dangerous</em>. You’re ready to move on to complete challenging tutorials like <em>Learn Enough CSS &amp; Layout to Be Dangerous</em> (<a href="https://www.learnenough.com/css-and-layout">https://www.learnenough.com/css-and-layout</a>), <em>Learn Enough Ruby to Be Dangerous</em>, and the <em>Ruby on Rails Tutorial</em>. Good luck!</p>
</section>
</section>
</div>
</div>
</body>
</html>